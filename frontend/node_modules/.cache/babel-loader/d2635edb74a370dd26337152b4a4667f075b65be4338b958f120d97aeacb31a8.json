{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shaky\\\\OneDrive\\\\Documents\\\\roadvision\\\\frontend\\\\src\\\\components\\\\StreamCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { toggleModel, fetchResults } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StreamCard({\n  stream\n}) {\n  _s();\n  const [results, setResults] = useState([]);\n  const [hasAlert, setHasAlert] = useState(false);\n  useEffect(() => {\n    loadResults();\n\n    // Auto-refresh every 3 seconds\n    const interval = setInterval(loadResults, 3000);\n    return () => clearInterval(interval);\n  }, []);\n  const loadResults = async () => {\n    const data = await fetchResults(stream.id);\n    setResults(data);\n\n    // Check alerts\n    if (data.some(item => item.alert === true)) {\n      setHasAlert(true);\n    } else {\n      setHasAlert(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: hasAlert ? \"2px solid red\" : \"1px solid #ccc\",\n      padding: 15,\n      borderRadius: 8,\n      marginBottom: 15,\n      background: hasAlert ? \"#ffe5e5\" : \"#f9f9f9\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: stream.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Source:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 10\n      }, this), \" \", stream.source]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Models:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => toggleModel(stream.id, \"road_detector\", true),\n        children: \"Enable Road\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => toggleModel(stream.id, \"road_detector\", false),\n        children: \"Disable Road\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => toggleModel(stream.id, \"crack_classifier\", true),\n        style: {\n          marginLeft: 5\n        },\n        children: \"Enable Crack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => toggleModel(stream.id, \"crack_classifier\", false),\n        style: {\n          marginLeft: 5\n        },\n        children: \"Disable Crack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Latest Output:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          background: \"#eee\",\n          padding: 10,\n          borderRadius: 5,\n          maxHeight: 150,\n          overflow: \"auto\"\n        },\n        children: JSON.stringify(results, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), hasAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10,\n        padding: 10,\n        background: \"red\",\n        color: \"white\",\n        borderRadius: 5\n      },\n      children: \"\\u26A0\\uFE0F ALERT: Something abnormal detected!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(StreamCard, \"x7LmdbfBMkiB3MxJUquA9/gChMI=\");\n_c = StreamCard;\nvar _c;\n$RefreshReg$(_c, \"StreamCard\");","map":{"version":3,"names":["React","useEffect","useState","toggleModel","fetchResults","jsxDEV","_jsxDEV","StreamCard","stream","_s","results","setResults","hasAlert","setHasAlert","loadResults","interval","setInterval","clearInterval","data","id","some","item","alert","style","border","padding","borderRadius","marginBottom","background","children","name","fileName","_jsxFileName","lineNumber","columnNumber","source","marginTop","onClick","marginLeft","maxHeight","overflow","JSON","stringify","color","_c","$RefreshReg$"],"sources":["C:/Users/shaky/OneDrive/Documents/roadvision/frontend/src/components/StreamCard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { toggleModel, fetchResults } from \"../api/api\";\r\n\r\nexport default function StreamCard({ stream }) {\r\n  const [results, setResults] = useState([]);\r\n  const [hasAlert, setHasAlert] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadResults();\r\n\r\n    // Auto-refresh every 3 seconds\r\n    const interval = setInterval(loadResults, 3000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadResults = async () => {\r\n    const data = await fetchResults(stream.id);\r\n    setResults(data);\r\n\r\n    // Check alerts\r\n    if (data.some(item => item.alert === true)) {\r\n      setHasAlert(true);\r\n    } else {\r\n      setHasAlert(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      border: hasAlert ? \"2px solid red\" : \"1px solid #ccc\",\r\n      padding: 15,\r\n      borderRadius: 8,\r\n      marginBottom: 15,\r\n      background: hasAlert ? \"#ffe5e5\" : \"#f9f9f9\"\r\n    }}>\r\n      <h3>{stream.name}</h3>\r\n      <p><strong>Source:</strong> {stream.source}</p>\r\n\r\n      <div style={{ marginTop: 10 }}>\r\n        <strong>Models:</strong>\r\n        <button onClick={() => toggleModel(stream.id, \"road_detector\", true)}>Enable Road</button>\r\n        <button onClick={() => toggleModel(stream.id, \"road_detector\", false)}>Disable Road</button>\r\n\r\n        <button onClick={() => toggleModel(stream.id, \"crack_classifier\", true)} style={{ marginLeft: 5 }}>\r\n          Enable Crack\r\n        </button>\r\n        <button onClick={() => toggleModel(stream.id, \"crack_classifier\", false)} style={{ marginLeft: 5 }}>\r\n          Disable Crack\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ marginTop: 10 }}>\r\n        <strong>Latest Output:</strong>\r\n        <pre style={{\r\n          background: \"#eee\",\r\n          padding: 10,\r\n          borderRadius: 5,\r\n          maxHeight: 150,\r\n          overflow: \"auto\"\r\n        }}>\r\n          {JSON.stringify(results, null, 2)}\r\n        </pre>\r\n      </div>\r\n\r\n      {hasAlert && (\r\n        <div style={{\r\n          marginTop: 10,\r\n          padding: 10,\r\n          background: \"red\",\r\n          color: \"white\",\r\n          borderRadius: 5\r\n        }}>\r\n          ⚠️ ALERT: Something abnormal detected!\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}